{"version":3,"sources":["../../src/domain/pn/index.ts","../../src/utils/chrome/index.ts","../../src/utils/observer/index.ts","../../src/utils/debounce.ts","../../src/domain/html/index.ts","../../src/services/gitlab/selectors.ts","../../src/services/gitlab/index.ts","../../src/utils/html/index.ts","../../src/features/pn-rule/replacer.ts","../../src/features/pn-rule/observer.ts","../../src/features/pn-rule/index.ts","../../src/features/rm-mr-filter/utils.ts","../../src/features/rm-mr-filter/ui/RemoveButton.ts","../../src/features/rm-mr-filter/index.ts","../../src/features/inject/index.ts"],"sourcesContent":["export type PnRule = \"p1\" | \"p2\" | \"p3\";\nexport type PnRuleSub = \"P1\" | \"P2\" | \"P3\";\nexport type PnBgColorKey = `${PnRule}-bg-color`;\nexport type PnTextColorKey = `${PnRule}-text-color`;\n\nexport type PnRuleMap = {\n  [key in PnRule]: string;\n};\nexport type PnRuleColorMap = {\n  [key in PnBgColorKey | PnTextColorKey]?: string;\n};\nexport type PnRuleMapWithColor = PnRuleMap & PnRuleColorMap;\n\nexport function getBgColorKey(pn: PnRule | PnRuleSub): PnBgColorKey {\n  return `${pn}-bg-color`.toLocaleLowerCase() as PnBgColorKey;\n}\n\nexport function getTextColorKey(pn: PnRule | PnRuleSub): PnTextColorKey {\n  return `${pn}-text-color`.toLocaleLowerCase() as PnTextColorKey;\n}\n\nexport function getReplacementKey(pn: PnRule | PnRuleSub): PnRule {\n  return pn.toLocaleLowerCase() as PnRule;\n}\n\nfunction pnRegexp() {\n  return /^([pP]\\d)\\s*[:.]?/;\n}\n\nexport function findPn(text: string) {\n  const match = text.match(pnRegexp());\n  return match?.[1];\n}\n\nexport function isPnRule(rule: string = \"\"): rule is PnRule {\n  return pnRegexp().test(rule);\n}\n\nexport function isPnRuleMap(map: unknown): map is PnRuleMapWithColor {\n  if (typeof map !== \"object\" || map === null) return false;\n  return [\"p1\", \"p2\", \"p3\"].every((key) => key in map);\n}\n","/**\n * Chrome storage API wrappers with error handling\n */\n\nexport type StorageResult<T> = {\n  success: true;\n  data: T;\n} | {\n  success: false;\n  error: Error;\n};\n\n/**\n * Saves data to Chrome local storage\n */\nexport function saveToChromeLocalStorage(map: Record<string, unknown>): Promise<StorageResult<void>> {\n  return new Promise((resolve) => {\n    try {\n      chrome.storage.local.set(map, () => {\n        if (chrome.runtime.lastError) {\n          resolve({\n            success: false,\n            error: new Error(chrome.runtime.lastError.message),\n          });\n        } else {\n          resolve({ success: true, data: undefined });\n        }\n      });\n    } catch (error) {\n      resolve({\n        success: false,\n        error: error instanceof Error ? error : new Error(String(error)),\n      });\n    }\n  });\n}\n\n/**\n * Gets all data from Chrome local storage\n */\nexport function getAllFromChromeLocalStorage(): Promise<Record<string, unknown>> {\n  return new Promise((resolve, reject) => {\n    try {\n      chrome.storage.local.get((data) => {\n        if (chrome.runtime.lastError) {\n          reject(new Error(chrome.runtime.lastError.message));\n        } else {\n          resolve(data);\n        }\n      });\n    } catch (error) {\n      reject(error instanceof Error ? error : new Error(String(error)));\n    }\n  });\n}\n\n/**\n * Subscribes to Chrome storage changes\n * Returns an unsubscribe function\n */\nexport function subscribeToChromeStorage(\n  callback: (changes: { [k: string]: chrome.storage.StorageChange }) => void\n): () => void {\n  chrome.storage.onChanged.addListener(callback);\n  return () => {\n    chrome.storage.onChanged.removeListener(callback);\n  };\n}\n","/**\n * MutationObserver management utilities\n */\n\ntype ObserverEntry = {\n  observer: MutationObserver;\n  target: Node;\n};\n\nconst observers: Map<string, ObserverEntry> = new Map();\n\nexport interface ObserverOptions {\n  id: string;\n  target: Node;\n  callback: MutationCallback;\n  config?: MutationObserverInit;\n}\n\nconst defaultConfig: MutationObserverInit = {\n  childList: true,\n  subtree: true,\n};\n\n/**\n * Creates and registers a MutationObserver\n */\nexport function createObserver(options: ObserverOptions): MutationObserver {\n  const { id, target, callback, config = defaultConfig } = options;\n\n  // Disconnect existing observer with same id\n  if (observers.has(id)) {\n    disconnectObserver(id);\n  }\n\n  const observer = new MutationObserver(callback);\n  observer.observe(target, config);\n\n  observers.set(id, { observer, target });\n\n  return observer;\n}\n\n/**\n * Disconnects a specific observer by id\n */\nexport function disconnectObserver(id: string): boolean {\n  const entry = observers.get(id);\n  if (entry) {\n    entry.observer.disconnect();\n    observers.delete(id);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Disconnects all registered observers\n */\nexport function disconnectAllObservers(): void {\n  observers.forEach((entry) => {\n    entry.observer.disconnect();\n  });\n  observers.clear();\n}\n\n/**\n * Gets the count of active observers\n */\nexport function getObserverCount(): number {\n  return observers.size;\n}\n","export function debounce(func: Function, wait: number) {\n  let timeout: ReturnType<typeof setTimeout> | undefined;\n  return function (this: any, ...args: any[]) {\n    const later = () => {\n      timeout = undefined;\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n","export function genMarker({\n  name,\n  replacement,\n  bgColor,\n  textColor,\n}:{\n  name: string;\n  replacement: string;\n  bgColor?: string;\n  textColor?: string;\n}) {\n  return `<mark name=\"${name}\" style=\"background-color: ${bgColor}; color: ${textColor}\">${replacement}</mark>`;\n}\n","/**\n * GitLab DOM Selectors\n * Centralized selectors for GitLab-specific elements\n */\n\nexport const SELECTORS = {\n  // Note elements in MR discussion\n  notes: \"div.note-body > div.note-text.md [data-sourcepos][dir='auto']\",\n\n  // Filter dropdown elements\n  filterDropdown: 'div.filtered-search-history-dropdown',\n  filterDropdownButton: 'button.filtered-search-history-dropdown-toggle-button',\n  filterListItem: 'li[data-testid=\"dropdown-item\"]:not(.gl-text-subtle)',\n\n  // Custom remove button class\n  customRemoveButton: '.custom-rm-btn',\n} as const;\n\nexport type SelectorKey = keyof typeof SELECTORS;\n","import { SELECTORS } from './selectors';\n\nexport function getNotes() {\n  return document.querySelectorAll(SELECTORS.notes);\n}\n\nexport function getFilterDropdown() {\n  return document.querySelector(SELECTORS.filterDropdown);\n}\n\nexport function getFilterDropdownButton() {\n  return document.querySelector(SELECTORS.filterDropdownButton);\n}\n\nexport function getFilterListItems() {\n  const dropdown = getFilterDropdown();\n  if (!dropdown) return null;\n  return dropdown.querySelectorAll(SELECTORS.filterListItem);\n}\n\nexport { SELECTORS };\n","export function escapeHtml(unsafe: string) {\n  return unsafe\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\");\n};\n","import { genMarker } from \"@domain/html\";\nimport {\n  findPn,\n  getBgColorKey,\n  getReplacementKey,\n  getTextColorKey,\n  isPnRule,\n  PnRuleMapWithColor,\n  PnRuleSub,\n} from \"@domain/pn\";\nimport { getNotes } from \"@services/gitlab\";\nimport { escapeHtml } from \"@utils/html\";\n\n/**\n * Updates existing mark elements with new replacement values\n */\nexport function replaceText(replacementMap: Record<string, string>): void {\n  const marks = document.querySelectorAll(\"mark[name]\");\n\n  marks.forEach((mark) => {\n    if (!(mark instanceof HTMLElement)) return;\n\n    const rule = mark.getAttribute(\"name\")?.toLocaleLowerCase();\n    if (!isPnRule(rule)) return;\n\n    for (const key of Object.keys(replacementMap)) {\n      if (key.startsWith(rule)) {\n        const replacementKey = getReplacementKey(rule);\n        const bgColorKey = getBgColorKey(rule);\n        const textColorKey = getTextColorKey(rule);\n\n        if (replacementMap[replacementKey]) {\n          mark.textContent = escapeHtml(replacementMap[replacementKey]);\n        }\n        if (replacementMap[bgColorKey]) {\n          mark.style.backgroundColor = replacementMap[bgColorKey];\n        }\n        if (replacementMap[textColorKey]) {\n          mark.style.color = replacementMap[textColorKey];\n        }\n      }\n    }\n  });\n}\n\n/**\n * Replaces Pn prefixes in notes with styled markers\n */\nexport function replacePnText(replacementMap: PnRuleMapWithColor): void {\n  const notes = getNotes();\n\n  notes.forEach((note) => {\n    const pn = findPn(note.innerHTML);\n\n    if (pn && pn.toLowerCase() in replacementMap) {\n      const replacementKey = getReplacementKey(pn as PnRuleSub);\n      const bgColorKey = getBgColorKey(pn as PnRuleSub);\n      const textColorKey = getTextColorKey(pn as PnRuleSub);\n\n      note.innerHTML = note.innerHTML.replace(\n        pn,\n        genMarker({\n          name: pn,\n          bgColor: replacementMap[bgColorKey],\n          textColor: replacementMap[textColorKey],\n          replacement: escapeHtml(replacementMap[replacementKey]),\n        })\n      );\n    }\n  });\n}\n","import { isPnRuleMap, PnRuleMapWithColor } from \"@domain/pn\";\nimport { createObserver, disconnectObserver } from \"@utils/observer\";\nimport { debounce } from \"@utils/debounce\";\nimport { replacePnText } from \"./replacer\";\n\nconst OBSERVER_ID = \"pn-rule-observer\";\n\n/**\n * Creates a MutationObserver that watches for DOM changes\n * and applies Pn text replacements\n */\nexport function createPnRuleObserver(pnMap: PnRuleMapWithColor): void {\n  const debouncedCallback = debounce((mutations: MutationRecord[]) => {\n    mutations.forEach((mutation) => {\n      if (mutation.type === \"childList\" && isPnRuleMap(pnMap)) {\n        replacePnText(pnMap);\n      }\n    });\n  }, 20);\n\n  createObserver({\n    id: OBSERVER_ID,\n    target: document.body,\n    callback: debouncedCallback,\n    config: { childList: true, subtree: true },\n  });\n}\n\n/**\n * Disconnects the Pn rule observer\n */\nexport function disconnectPnRuleObserver(): void {\n  disconnectObserver(OBSERVER_ID);\n}\n","import { isPnRuleMap, PnRuleMapWithColor } from \"@domain/pn\";\nimport { getAllFromChromeLocalStorage, subscribeToChromeStorage } from \"@utils/chrome\";\nimport { createPnRuleObserver, disconnectPnRuleObserver } from \"./observer\";\nimport { replaceText } from \"./replacer\";\n\nlet unsubscribeStorage: (() => void) | null = null;\n\n/**\n * Initializes the Pn rule feature\n */\nexport async function initPnRule(): Promise<void> {\n  const pnMap = await getAllFromChromeLocalStorage() as PnRuleMapWithColor;\n\n  unsubscribeStorage = subscribeToChromeStorage((changes) => {\n    const tmpMap: Record<string, string> = {};\n    Object.entries(changes).forEach(([key, change]) => {\n      (pnMap as Record<string, unknown>)[key] = change.newValue;\n      tmpMap[key] = change.newValue;\n    });\n    replaceText(tmpMap);\n  });\n\n  if (isPnRuleMap(pnMap)) {\n    createPnRuleObserver(pnMap);\n  }\n}\n\n/**\n * Cleans up the Pn rule feature\n */\nexport function cleanupPnRule(): void {\n  if (unsubscribeStorage) {\n    unsubscribeStorage();\n    unsubscribeStorage = null;\n  }\n  disconnectPnRuleObserver();\n}\n","// interface Filter {\n//   type: string;\n//   value: {\n//     data: string;\n//     operator: string;\n//   };\n//   id: string;\n// }\n\n// type FilterList = Filter[][];\n\ntype FilterList = string[];\n\nexport function getKey() {\n  const url = new URL(window.location.href);\n  const pathname = url.pathname;\n  const [project] = pathname.split(\"/-/\");\n  return `${project.slice(1)}-merge-request-recent-searches`;\n}\n\nexport function getFilterList() {\n  const key = getKey();\n  const value = localStorage.getItem(key);\n  if (!value) return [];\n  return JSON.parse(value) as FilterList;\n}\n\nexport function setFilterList(filterList: FilterList) {\n  const key = getKey();\n  localStorage.setItem(key, JSON.stringify(filterList));\n}\n\nexport function removeFilterByIndex(e: MouseEvent) {\n  const filterList = getFilterList();\n  const li = (e.target as HTMLButtonElement).parentElement?.parentElement;\n  const siblings = Array.from(li?.parentElement?.children ?? []);\n\n  if (!li || siblings.length === 0) {\n    console.warn(`cannot find li or siblings`);\n    return;\n  }\n  const idx = siblings.indexOf(li as Element);\n  if (idx === -1) {\n    console.warn(`cannot find index of ${li} from ${siblings}`);\n    return;\n  }\n  console.log(`remove filter at index ${idx}`, filterList);\n  filterList.splice(idx, 1);\n  setFilterList(filterList);\n}\n","export function RemoveButton() {\n  const removeButton = document.createElement('button');\n  removeButton.type = 'button';\n\n  removeButton.classList.add('custom-rm-btn');\n  removeButton.innerHTML = `\n<svg class=\"s16 close-icon\"><use xlink:href=\"/assets/icons-0b41337f52be73f7bbf9d59b841eb98a6e790dfa1a844644f120a80ce3cc18ba.svg#close\"></use></svg>\n  `;\n  return removeButton;\n}\n","import { getFilterDropdownButton, getFilterListItems, SELECTORS } from \"@services/gitlab\";\nimport { createObserver, disconnectObserver } from \"@utils/observer\";\nimport { removeFilterByIndex } from \"./utils\";\nimport { RemoveButton } from \"./ui/RemoveButton\";\n\nconst OBSERVER_ID = \"rm-mr-filter-observer\";\n\nfunction addRemoveButtonsToFilters(): void {\n  const filterList = getFilterListItems();\n\n  filterList?.forEach((filter) => {\n    if (filter.querySelector(SELECTORS.customRemoveButton)) {\n      return;\n    }\n    const removeButton = RemoveButton();\n\n    filter.appendChild(removeButton);\n\n    removeButton.addEventListener('click', (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n      removeFilterByIndex(e);\n      filter.remove();\n    });\n  });\n}\n\n/**\n * Initializes the filter removal feature\n */\nexport function initRmMrFilter(): void {\n  const button = getFilterDropdownButton();\n  if (!button) return;\n\n  createObserver({\n    id: OBSERVER_ID,\n    target: button,\n    callback: addRemoveButtonsToFilters,\n    config: { childList: true, subtree: true },\n  });\n\n  addRemoveButtonsToFilters();\n}\n\n/**\n * Cleans up the filter removal feature\n */\nexport function cleanupRmMrFilter(): void {\n  disconnectObserver(OBSERVER_ID);\n}\n","/**\n * Content script entry point\n * Orchestrates feature initialization and cleanup\n */\n\nimport { initPnRule, cleanupPnRule } from \"@features/pn-rule\";\nimport { initRmMrFilter, cleanupRmMrFilter } from \"@features/rm-mr-filter\";\n\n/**\n * Initialize all features\n */\nasync function init(): Promise<void> {\n  await initPnRule();\n  initRmMrFilter();\n}\n\n/**\n * Cleanup all features\n */\nfunction cleanup(): void {\n  cleanupPnRule();\n  cleanupRmMrFilter();\n}\n\n// Initialize on load\ninit();\n\n// Cleanup on unload (for SPA navigation)\nwindow.addEventListener('beforeunload', cleanup);\n"],"mappings":"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","names":["OBSERVER_ID"]}